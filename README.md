# EatDayBookBot
Это учебный репозиторий с ботом на Python.

### Цель бота
Бот помогает вести дневник калорий посредством общения с ним в соцсети Вконтакте. 

### Возможности бота
* Учет часового пояса пользователя.
* Добавление калорий к общему списку за день.
* Исправить неправильно введенные значения.
* Узнать сумму введенных калорий за любой день пользования ботом.
* Настройка напоминаний от бота о необходимости ввести калории.
* Полное удаление информации о пользователе по команде.
* Информирование пользователя о неправильно введенной команде и типе ошибки.  

### Решенные задачи
Так как проект учебный, стоит рассказать о решенных задачах:
* Разбор сообщений пользователя на валидные команды и значения, а так же обратные сообщения при недопустимых командах.
* Хранение базы данных о пользователях.
* Создание многопоточного кода для возможности обработки нескольких соединений одновременно.
* Создание системы проверки необходимости напоминаний пользователям.
* Учет разности часовых поясов пользователя и бота, в частности, таких редких ситуаций, 
как сообщение от пользователя в 23:59:59 предыдущих суток, и дошедшая до бота информация в 00:00:01 следующих суток, и более общих случаев, которые могли приводить к неточностям во времени напоминания.
* Учет возникающих со стороны сервера Вконтакте TimeoutError раз в сутки примерно в 01:00 - 02:00 ночи по Москве.
* Введение системы журналирования для отлаживания багов и ошибок.

### Недостатки
Стоит сказать о выявленных недостатках кода, выявленных при решении задачи:
* Излишняя громоздкость обработки сообщений пользователя.
* Постпроверка сообщений пользователя вместо предпроверки валидности введенного сообщения, что влечет собой непредвиденные баги (например, возможность добавлять +- к введенным значениям, что может приводить к непредвиденным результатам).
* Топорная система базы данных, усложняющая хранение данных. С другой стороны, позволяющая безопасный доступ из нескольких потоков.

[Ссылка на бота](https://vk.com/club197499067, 'https://vk.com/club197499067')
